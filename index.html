<!DOCTYPE html>
<html>
 <head>
  <meta charset='utf-8'>
  <title>js typing</title>
 </head>
 <style>
 	#divTyping1{
 		font-size: 30px;
 		width: 500px;
 		margin: 80px auto;
 	}
 	#divTyping2{
 		font-size: 20px;
 		width: 500px;
 		box-sizing: border-box;
 		padding-left: 50px;
 		margin: 20px auto;
 	}
 	
 </style>
 <body>
  <div id='divTyping1'></div>
  <div id='divTyping2'></div>
  <script> 
   var str1 = '“我最爱你，阳光轻轻落在你头发上，脸上，细细泛起金光，像极了坠落人间的仙子。你看向我，眼睛里都是细闪的星星，你一笑，春雪也融化了。”';
   var str2 = '——套路是我学的，但是没想到你能走这么久。';
   var i1 = 0;
   var i2 = 0;
   var node1 = document.getElementById('divTyping1');
   var node2 = document.getElementById('divTyping2');
   //console.log(node1.innerHTML)
   var x = 2;
   var y = 0;
   function typing(str, node ,i){
   	console.log(node)
    if (i <= str.length) {
		node.innerHTML = str.slice(0, i++) + '_'
		setTimeout(function(){
			typing(str,node,i);	
		}, 200);//递归调用
    }
    else{
		node.innerHTML = str;//结束打字,移除 _ 光标
		if(node.innerHTML == str){
			y++;
			if(y == x){
				return false;
			}
		}
		typing(str2,node2,i2);
    }
   }
   typing(str1,node1,i1);

  </script>
 </body>
</html>